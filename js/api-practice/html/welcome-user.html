<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/16139588c8.js" crossorigin="anonymous"></script>

    <style>
        body{
            padding: 0;
            margin: 0;
        }
    </style>
    <link rel="stylesheet" href="../css/navbar.css">
    <link rel="stylesheet" href="../css/hero.css">
    <title>Welcome</title>
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous"> -->

</head>
<body>
    
    <nav>
        <div class="logo">LOGO</div>
        <ul class="collapsing-content">
            <li class="upper-li">Hello <span id="username"></span></li>
            <li class="upper-li" id="logout" style="display: none;"><a href="#" class="nav-link">Logout</a></li>
            <li class="my-dropdown upper-li" id="login" style="display: none;"><a href="#" class="dropbtn nav-link">Login/Signup <i class="fa-solid fa-caret-down"></i></a>
            <ul class="dropdown-content">
                <li><a href="custom-login.html" class="nav-link">Login</a></li>
                <li><a href="custom-signup.html" class="nav-link">Signup</a></li>
            </ul>
             </li>
        </ul>
    </nav>
    <section class="hero">
        <div style="width: 40%; text-align:center;">
            <span class="big-display">Welcome</span><br/>
            <span class="big-display" id="display-name"></span>
        </div>
    </section>
    <section class="my-details-container" id="my-container">
        <div class="my-details-col">
            <div class="details-col-top-row">
                Your Details...!
            </div>
            <!-- <div> -->
            <div class="details-col-show-details-row">
                <div class="details-col-show-details-col-1">
                    Name:
                </div>
                <div class="details-col-show-details-col-2">
                    <span id="name"></span>
                </div>
            </div>
            <div class="details-col-show-details-row">
                <div class="details-col-show-details-col-1">
                    Email:
                </div>
                <div class="details-col-show-details-col-2">
                    <span id="email"></span>
                </div>
            </div>
            <div class="details-col-show-details-row">
                <div class="details-col-show-details-col-1">
                    Number:
                </div>
                <div class="details-col-show-details-col-2">
                    <span id="number"></span>
                </div>
            </div>
            <!-- </div> -->
        </div>
    </section>
    <script>
        // alert()
        let dropContent = document.getElementsByClassName('dropdown-content');
        let dropbtn = document.getElementsByClassName('my-dropdown');
        dropbtn[0].addEventListener('click',(e)=>{
            // console.log(e)
            // console.log(dropContent[0]);
            dropContent[0].classList.toggle('show');
        })
        let loggedIn = false;
        let userName = document.getElementById('username');
        let displayName = document.getElementById('display-name');
        if(localStorage.getItem('currentUser')){
            let name = document.getElementById('name');
            let email = document.getElementById('email');
            let number = document.getElementById('number');
            loggedIn = true;
            let myDisplayContainer = document.getElementById('my-container');
            myDisplayContainer.classList.add('show-container');
            let currentUser = JSON.parse(localStorage.getItem('currentUser'));
            // console.log(currentUser);
            name.innerText = currentUser.name;
            email.innerText = currentUser.email;
            number.innerText = currentUser.number;
            userName.innerText = currentUser.name;
            displayName.innerText = currentUser.name;
            let logout = document.getElementById('logout');
            // console.log(logout);
            logout.style['display'] = "list-item";
            logout.addEventListener('click',()=>{
                localStorage.removeItem('currentUser');
                location.reload();
            })

        }
        else{
            let login = document.getElementById('login');
            login.style['display'] = "list-item";
            userName.innerText = 'Guest';
            displayName.innerText = 'Guest';
        }
        
        
        
    </script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script> -->

</body>
</html>
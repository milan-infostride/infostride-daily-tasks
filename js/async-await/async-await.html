<script>
let obj = {a:1,b:2};
let obj_json = JSON.stringify(obj);
let local_obj= {};

async function get_data(){

    let success_callback = (val)=>{
        return JSON.parse(val);
    }
    

    let myPromise = new Promise((success_callback,reject_callback)=>{
        if(typeof obj_json !=='undefined'){
            success_callback(obj_json);
        }
        else{
            reject_callback("Data not sent");
        }
    })
    await myPromise.then(res=>{
        console.log(res);
        //local_obj = res;
    }).catch(res=>{
        console.log(res);
    })
    
}
get_data();
//local_obj.a;


</script>